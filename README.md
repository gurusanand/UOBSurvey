# UOB Risk & Regulatory IT Survey Application

**Version 2.0** | **Production Ready** | **Enhanced with AI-Powered Dynamic Questions**

![Streamlit](https://img.shields.io/badge/Streamlit-1.28+-red)
![Python](https://img.shields.io/badge/Python-3.11+-blue)
![OpenAI](https://img.shields.io/badge/OpenAI-1.0+-green)
![License](https://img.shields.io/badge/License-Proprietary-yellow)

## Overview

The UOB Risk & Regulatory IT Survey is a comprehensive assessment tool designed to evaluate an organization's data infrastructure maturity, regulatory compliance posture, and technology readiness. The application features AI-powered dynamic questions with context-specific tooltips to guide users toward providing detailed, actionable insights.

## Key Features

### ðŸŽ¯ Three-Step Survey Process

1. **Step 1: Baseline Assessment**
   - Fixed questions for baseline evaluation
   - Multiple choice and text-based questions
   - Quick assessment of current state

2. **Step 2: Deep Dive (AI-Powered)**
   - Dynamic questions generated by OpenAI
   - Each question builds on previous answers
   - Context-specific tooltips guide users
   - 15 intelligent follow-up questions
   - Conversation history tracking

3. **Step 3: Review & Submit**
   - Review all responses
   - Submit survey for analysis
   - Automatic data storage

### ðŸ¤– AI-Powered Features

- **Dynamic Question Generation**: OpenAI generates contextual follow-up questions based on user responses
- **Smart Tooltips**: Each question includes a specific, helpful tooltip explaining what details to include
- **Answer Validation**: Ensures answer quality with feedback
- **Insights Summary**: Automatic generation of key findings and recommendations
- **Report Generation**: Comprehensive assessment reports with maturity ratings

### ðŸ“Š Admin Dashboard

- View all survey responses
- Generate assessment reports
- Analytics and insights
- Admin settings and configuration

### ðŸ”’ Security & Privacy

- Environment-based configuration (no hardcoded secrets)
- Input validation and sanitization
- MongoDB integration for secure data storage
- Role-based access control

## Quick Start

### Prerequisites

- Python 3.11 or higher
- OpenAI API key
- MongoDB (optional, for local storage)

### Installation

```bash
# 1. Extract the zip file
unzip UOB_QA_Complete.zip
cd UOB_QA_Complete

# 2. Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# 3. Install dependencies
pip install -r requirements.txt

# 4. Configure environment
cp .env.example .env
# Edit .env and add your OpenAI API key

# 5. Run the application
streamlit run app/app.py
```

### Access the Application

Open your browser and navigate to:
```
http://localhost:8501
```

## Architecture

```
UOB_QA_Complete/
â”œâ”€â”€ app/                                 # Application code
â”‚   â”œâ”€â”€ app.py                          # Main Streamlit app
â”‚   â”œâ”€â”€ dynamic_questions_enhanced.py   # AI question generation
â”‚   â”œâ”€â”€ step2_dynamic_ui_enhanced.py    # Step 2 UI with tooltips
â”‚   â”œâ”€â”€ report_generator.py             # Report generation
â”‚   â””â”€â”€ admin_report_ui.py              # Admin interface
â”œâ”€â”€ config/                             # Configuration
â”‚   â””â”€â”€ config.ini                      # App configuration
â”œâ”€â”€ data/                               # Data files
â”‚   â””â”€â”€ questions_fixed.json            # Survey questions
â”œâ”€â”€ docs/                               # Documentation
â”‚   â”œâ”€â”€ INSTALLATION_GUIDE.md           # Setup instructions
â”‚   â”œâ”€â”€ STEP2_ENHANCED_GUIDE.md         # Dynamic questions guide
â”‚   â”œâ”€â”€ STEP2_DYNAMIC_INTEGRATION.md    # Integration details
â”‚   â””â”€â”€ REPORT_GENERATION_GUIDE.md      # Report generation
â”œâ”€â”€ requirements.txt                    # Python dependencies
â”œâ”€â”€ .env.example                        # Environment template
â””â”€â”€ README.md                           # This file
```

## Configuration

### Environment Variables (.env)

```env
OPENAI_API_KEY=sk-your-key-here
MONGODB_URI=mongodb://localhost:27017
MONGODB_DATABASE=uob_survey
APP_ENV=development
```

### Application Settings (config.ini)

```ini
[APP]
num_open_ended = 15
enable_dynamic_questions = true
enable_tooltips = true

[OPENAI]
model = gpt-4o-mini
temperature = 0.7
max_tokens = 250
```

## Usage

### For Users

1. **Start Survey**
   - Select "User" role
   - Click "Start Survey"

2. **Complete Step 1**
   - Answer baseline questions
   - Click "Complete Step 1"

3. **Complete Step 2**
   - Answer dynamic questions
   - Read tooltips for guidance
   - System generates next question based on your answer

4. **Submit Survey**
   - Review all responses
   - Click "Submit Survey"

### For Admins

1. **Login as Admin**
   - Select "Admin" role
   - Click "Start Survey"

2. **View Surveys**
   - See all submitted responses
   - View survey details

3. **Generate Reports**
   - Select a survey
   - Click "Generate Assessment Report"
   - Download as PDF or Markdown

## Performance

| Metric | Time |
|--------|------|
| First question + tooltip | 3-7 seconds |
| Each follow-up + tooltip | 5-12 seconds |
| Total for 15 questions | ~2-4 minutes |
| Report generation | 1-2 minutes |

## API Costs

- **Approximate per survey**: $0.08-0.20
- **Includes**: Question generation, tooltips, validation, summary
- **Tooltip caching reduces costs** for repeated questions

## System Requirements

| Component | Requirement |
|-----------|-------------|
| Python | 3.11+ |
| RAM | 4GB minimum (8GB recommended) |
| Disk Space | 500MB |
| Internet | Required for OpenAI API |
| Browser | Modern browser (Chrome, Firefox, Safari, Edge) |

## Dependencies

- **streamlit** (1.28+) - Web framework
- **openai** (1.0+) - LLM integration
- **pymongo** (4.5+) - Database driver
- **pandas** (2.0+) - Data processing
- **fpdf2** (2.7+) - PDF generation

See `requirements.txt` for complete list.

## Troubleshooting

### "OPENAI_API_KEY not set"
```bash
# Verify .env file exists and contains your API key
cat .env

# Or set directly in command prompt
export OPENAI_API_KEY=sk-your-key-here
streamlit run app/app.py
```

### "Cannot connect to MongoDB"
```bash
# Verify MongoDB is running
mongosh  # or mongo

# Or use MongoDB Atlas connection string
MONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/
```

### "Module not found" errors
```bash
# Reinstall dependencies
pip install -r requirements.txt --force-reinstall
```

### "Port 8501 already in use"
```bash
streamlit run app/app.py --server.port 8502
```

See `INSTALLATION_GUIDE.md` for more troubleshooting tips.

## Documentation

- **[INSTALLATION_GUIDE.md](INSTALLATION_GUIDE.md)** - Step-by-step installation instructions
- **[STEP2_ENHANCED_GUIDE.md](docs/STEP2_ENHANCED_GUIDE.md)** - Dynamic questions and tooltips
- **[STEP2_DYNAMIC_INTEGRATION.md](docs/STEP2_DYNAMIC_INTEGRATION.md)** - Technical integration details
- **[REPORT_GENERATION_GUIDE.md](docs/REPORT_GENERATION_GUIDE.md)** - Report generation features

## Features Roadmap

### Completed âœ…
- Dynamic question generation with OpenAI
- Question-specific tooltips
- Answer validation
- Conversation history
- Report generation
- Admin dashboard
- MongoDB integration

### Planned ðŸš€
- Multi-language support
- Custom question templates
- Answer sentiment analysis
- Real-time analytics dashboard
- Conversation branching
- Audio/voice input support
- Question difficulty adaptation
- Batch report generation

## Security Considerations

- **Never commit `.env` file** to version control
- **Keep API keys private** - don't share with others
- **Use strong MongoDB passwords** for production
- **Enable MongoDB authentication** for production
- **Use HTTPS** for production deployments
- **Validate all user inputs** before processing
- **Sanitize answers** before storage

## Performance Optimization

1. **Faster Responses**
   - Use `gpt-3.5-turbo` instead of `gpt-4o-mini`
   - Reduce `max_tokens` in configuration

2. **Lower Costs**
   - Enable tooltip caching
   - Use cheaper models
   - Batch process surveys

3. **Better Tooltips**
   - Increase `temperature` to 0.7-0.9
   - Provide more context in prompts

## Production Deployment

For production deployment:

1. Use a production MongoDB instance
2. Set `APP_ENV=production` in `.env`
3. Use a production web server (Nginx, Apache)
4. Enable HTTPS/SSL
5. Set up monitoring and logging
6. Use environment-specific configurations
7. Implement rate limiting
8. Set up backup and disaster recovery

## Support

For issues or questions:

1. Check the relevant documentation file
2. Review Streamlit logs: `streamlit run app/app.py --logger.level=debug`
3. Verify OpenAI API status at https://status.openai.com
4. Check MongoDB connection settings
5. Verify internet connectivity

## Version History

### v2.0 (January 14, 2026)
- Added dynamic question generation with OpenAI
- Added question-specific tooltips
- Added report generation with maturity assessment
- Added admin dashboard
- Performance optimizations
- Enhanced documentation

### v1.0 (Initial Release)
- Basic survey functionality
- Fixed questions
- MongoDB integration
- Admin interface

## License

Proprietary - Optimum AI Lab

## Author

**Optimum AI Lab**  
Generated: January 14, 2026

## Contact

For support or inquiries, please contact the development team.

---

**Ready to get started?** See [INSTALLATION_GUIDE.md](INSTALLATION_GUIDE.md) for detailed setup instructions.

**Questions?** Check the [docs/](docs/) folder for comprehensive documentation.

**Happy surveying! ðŸš€**
